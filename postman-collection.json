{
    "info": {
        "name": "SBA 318: API Testing Collection",
        "description": "SBA 318: A collection to test API endpoints.",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "Get Assignments",
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "{{baseUrl}}/assignments",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "assignments"
                    ]
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 200\", function () {",
                            "    pm.response.to.have.status(200);",
                            "});",
                            "",
                            "pm.test(\"Response is an array\", function () {",
                            "    pm.response.to.be.json;",
                            "    pm.response.to.have.jsonBody();",
                            "    pm.expect(pm.response.json()).to.be.an('array');",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Create Assignment",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "url": {
                    "raw": "{{baseUrl}}/assignments",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "assignments"
                    ]
                },
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"name\": \"New Assignment\",\n    \"due_at\": \"2024-02-15\",\n    \"points_possible\": 75\n}"
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 201\", function () {",
                            "    pm.response.to.have.status(201);",
                            "});",
                            "",
                            "pm.test(\"Response contains new assignment with generated id\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData).to.be.an('array');",
                            "    pm.expect(jsonData.length).to.be.greaterThan(0);",
                            "    var newAssignment = jsonData.find(a => a.name === \"New Assignment\");",
                            "    pm.expect(newAssignment).to.not.be.undefined;",
                            "    pm.expect(newAssignment).to.have.property('id');",
                            "    pm.expect(newAssignment.name).to.eql(\"New Assignment\");",
                            "    pm.expect(newAssignment.due_at).to.eql(\"2024-02-15\");",
                            "    pm.expect(newAssignment.points_possible).to.eql(75);",
                            "    // Store the new assignment's ID in an environment variable",
                            "    pm.environment.set('assignmentId', newAssignment.id);",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Create Assignment (Negative Test)",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "url": {
                    "raw": "{{baseUrl}}/assignments",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "assignments"
                    ]
                },
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"name\": \"Incomplete Assignment\"\n}"
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 400\", function () {",
                            "    pm.response.to.have.status(400);",
                            "});",
                            "",
                            "pm.test(\"Error message is 'Insufficient Data'\", function () {",
                            "    var responseJson = pm.response.json();",
                            "    pm.expect(responseJson).to.have.property('error', 'Insufficient Data');",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Create Assignment (Negative Test - Invalid Name)",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "url": {
                    "raw": "{{baseUrl}}/assignments",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "assignments"
                    ]
                },
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"name\": \"\",\n    \"due_at\": \"2024-02-15\",\n    \"points_possible\": 75\n}"
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 400\", function () {",
                            "    pm.response.to.have.status(400);",
                            "});",
                            "",
                            "pm.test(\"Error message is 'Invalid Name'\", function () {",
                            "    var responseJson = pm.response.json();",
                            "    pm.expect(responseJson).to.have.property('error', 'Invalid Name');",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Create Assignment (Negative Test - Invalid Due Date)",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "url": {
                    "raw": "{{baseUrl}}/assignments",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "assignments"
                    ]
                },
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"name\": \"New Assignment\",\n    \"due_at\": \"2024-02-30\",\n    \"points_possible\": 75\n}"
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 400\", function () {",
                            "    pm.response.to.have.status(400);",
                            "});",
                            "",
                            "pm.test(\"Error message is 'Invalid Due Date Format'\", function () {",
                            "    var responseJson = pm.response.json();",
                            "    pm.expect(responseJson).to.have.property('error', 'Invalid Due Date Format');",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Create Assignment (Negative Test - Invalid Points Possible Number)",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "url": {
                    "raw": "{{baseUrl}}/assignments",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "assignments"
                    ]
                },
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"name\": \"New Assignment\",\n    \"due_at\": \"2024-02-15\",\n    \"points_possible\": -10\n}"
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 400\", function () {",
                            "    pm.response.to.have.status(400);",
                            "});",
                            "",
                            "pm.test(\"Error message is 'Invalid Points Possible Number'\", function () {",
                            "    var responseJson = pm.response.json();",
                            "    pm.expect(responseJson).to.have.property('error', 'Invalid Points Possible Number');",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Get Assignment by ID",
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "{{baseUrl}}/assignments/{{assignmentId}}",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "assignments",
                        "{{assignmentId}}"
                    ]
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 200\", function () {",
                            "    pm.response.to.have.status(200);",
                            "});",
                            "",
                            "pm.test(\"Response contains assignment details\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData).to.be.an('object');",
                            "    pm.expect(jsonData).to.have.property('id');",
                            "    pm.expect(jsonData).to.have.property('name');",
                            "    pm.expect(jsonData).to.have.property('due_at');",
                            "    pm.expect(jsonData).to.have.property('points_possible');",
                            "",
                            "    // Check that the id matches the stored assignmentId",
                            "    pm.expect(jsonData.id).to.eql(parseInt(pm.environment.get('assignmentId')));",
                            "    // Optionally, verify the details if known",
                            "    pm.expect(jsonData.name).to.eql(\"New Assignment\");",
                            "    pm.expect(jsonData.due_at).to.eql(\"2024-02-15\");",
                            "    pm.expect(jsonData.points_possible).to.eql(75);",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Get Assignment by ID (Negative Test - Invalid ID)",
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "{{baseUrl}}/assignments/{{invalidAssignmentId}}",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "assignments",
                        "{{invalidAssignmentId}}"
                    ]
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 404\", function () {",
                            "    pm.response.to.have.status(404);",
                            "});",
                            "",
                            "pm.test(\"Error message is 'Resource Not Found'\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData).to.be.an('object');",
                            "    pm.expect(jsonData).to.have.property('error');",
                            "    pm.expect(jsonData.error).to.eql(\"Resource Not Found\");",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Update Assignment",
            "request": {
                "method": "PATCH",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "url": {
                    "raw": "{{baseUrl}}/assignments/{{assignmentId}}",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "assignments",
                        "{{assignmentId}}"
                    ]
                },
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"name\": \"Updated Assignment\",\n    \"due_at\": \"2024-03-15\",\n    \"points_possible\": 85\n}"
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 200\", function () {",
                            "    pm.response.to.have.status(200);",
                            "});",
                            "",
                            "pm.test(\"Response contains updated assignment\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData).to.have.property('id', pm.environment.get('assignmentId'));",
                            "    pm.expect(jsonData.name).to.eql(\"Updated Assignment\");",
                            "    pm.expect(jsonData.due_at).to.eql(\"2024-03-15\");",
                            "    pm.expect(jsonData.points_possible).to.eql(85);",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Update Assignment (Negative Test - Invalid ID)",
            "request": {
                "method": "PATCH",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "url": {
                    "raw": "{{baseUrl}}/assignments/{{invalidAssignmentId}}",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "assignments",
                        "{{invalidAssignmentId}}"
                    ]
                },
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"name\": \"Updated Assignment\",\n    \"due_at\": \"2024-03-15\",\n    \"points_possible\": 85\n}"
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 404\", function () {",
                            "    pm.response.to.have.status(404);",
                            "});",
                            "",
                            "pm.test(\"Error message is 'Resource Not Found'\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData).to.have.property('error', 'Resource Not Found');",
                            "});"
                        ]
                    }
                }
            ]
        },        
        {
            "name": "Get Courses",
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "{{baseUrl}}/courses",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "courses"
                    ]
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 200\", function () {",
                            "    pm.response.to.have.status(200);",
                            "});",
                            "",
                            "pm.test(\"Response is an array of courses\", function () {",
                            "    pm.response.to.be.json;",
                            "    pm.response.to.have.jsonBody();",
                            "    pm.expect(pm.response.json()).to.be.an('array');",
                            "    var courses = pm.response.json();",
                            "    courses.forEach(course => {",
                            "        pm.expect(course).to.have.property('id');",
                            "        pm.expect(course).to.have.property('name');",
                            "    });",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Create Course",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "url": {
                    "raw": "{{baseUrl}}/courses",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "courses"
                    ]
                },
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"name\": \"New Course\"\n}"
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 201\", function () {",
                            "    pm.response.to.have.status(201);",
                            "});",
                            "",
                            "pm.test(\"Response contains new course\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData).to.be.an('array');",
                            "    pm.expect(jsonData.length).to.be.greaterThan(0);",
                            "    var newCourse = jsonData.find(c => c.name === \"New Course\");",
                            "    pm.expect(newCourse).to.not.be.undefined;",
                            "    pm.expect(newCourse).to.have.property('id');",
                            "    pm.expect(newCourse.name).to.eql(\"New Course\");",
                            "    // Store the new course's ID in an environment variable",
                            "    pm.environment.set('courseId', newCourse.id);",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Create Course (Negative Test - Missing Data)",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "url": {
                    "raw": "{{baseUrl}}/courses",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "courses"
                    ]
                },
                "body": {
                    "mode": "raw",
                    "raw": "{\n    // Missing 'name' field\n}"
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 400\", function () {",
                            "    pm.response.to.have.status(400);",
                            "});",
                            "",
                            "pm.test(\"Error message is 'Insufficient Data'\", function () {",
                            "    var responseJson = pm.response.json();",
                            "    pm.expect(responseJson).to.have.property('error', 'Insufficient Data');",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Create Course (Negative Test - Invalid Name)",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "url": {
                    "raw": "{{baseUrl}}/courses",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "courses"
                    ]
                },
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"name\": \" \"\n}"
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 400\", function () {",
                            "    pm.response.to.have.status(400);",
                            "});",
                            "",
                            "pm.test(\"Error message is 'Invalid Name'\", function () {",
                            "    var responseJson = pm.response.json();",
                            "    pm.expect(responseJson).to.have.property('error', 'Invalid Name');",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Get Course by ID",
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "{{baseUrl}}/courses/{{courseId}}",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "courses",
                        "{{courseId}}"
                    ]
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 200\", function () {",
                            "    pm.response.to.have.status(200);",
                            "});",
                            "",
                            "pm.test(\"Response contains course details\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData).to.be.an('object');",
                            "    pm.expect(jsonData).to.have.property('id');",
                            "    pm.expect(jsonData).to.have.property('name');",
                            "    pm.expect(jsonData.id).to.eql(parseInt(pm.environment.get('courseId')));",
                            "    pm.expect(jsonData.name).to.eql(\"New Course\");",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Get Course by ID (Negative Test - Invalid ID)",
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "{{baseUrl}}/courses/{{invalidCourseId}}",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "courses",
                        "{{invalidCourseId}}"
                    ]
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 404\", function () {",
                            "    pm.response.to.have.status(404);",
                            "});",
                            "",
                            "pm.test(\"Error message is 'Resource Not Found'\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData).to.be.an('object');",
                            "    pm.expect(jsonData).to.have.property('error');",
                            "    pm.expect(jsonData.error).to.eql(\"Resource Not Found\");",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Get Learners",
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "{{baseUrl}}/learners",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "learners"
                    ]
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 200\", function () {",
                            "    pm.response.to.have.status(200);",
                            "});",
                            "",
                            "pm.test(\"Response is an array of learners\", function () {",
                            "    pm.response.to.be.json;",
                            "    pm.response.to.have.jsonBody();",
                            "    pm.expect(pm.response.json()).to.be.an('array');",
                            "    var learners = pm.response.json();",
                            "    learners.forEach(learner => {",
                            "        pm.expect(learner).to.have.property('id');",
                            "        pm.expect(learner).to.have.property('name');",
                            "        pm.expect(learner.name).to.have.property('first_name');",
                            "        pm.expect(learner.name).to.have.property('last_name');",
                            "        pm.expect(learner).to.have.property('email');",
                            "    });",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Create Learner",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "url": {
                    "raw": "{{baseUrl}}/learners",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "learners"
                    ]
                },
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"name\": {\n        \"first_name\": \"John\",\n        \"last_name\": \"Doe\"\n    },\n    \"email\": \"john.doe@example.com\"\n}"
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 201\", function () {",
                            "    pm.response.to.have.status(201);",
                            "});",
                            "",
                            "pm.test(\"Response contains new learner\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData).to.be.an('array');",
                            "    pm.expect(jsonData.length).to.be.greaterThan(0);",
                            "    var newLearner = jsonData.find(l => l.email === \"john.doe@example.com\");",
                            "    pm.expect(newLearner).to.not.be.undefined;",
                            "    pm.expect(newLearner).to.have.property('id');",
                            "    pm.expect(newLearner.name.first_name).to.eql(\"John\");",
                            "    pm.expect(newLearner.name.last_name).to.eql(\"Doe\");",
                            "    pm.expect(newLearner.email).to.eql(\"john.doe@example.com\");",
                            "    // Store the new learner's ID in an environment variable",
                            "    pm.environment.set('learnerId', newLearner.id);",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Create Learner (Negative Test - Missing Data)",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "url": {
                    "raw": "{{baseUrl}}/learners",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "learners"
                    ]
                },
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"name\": {\n        \"first_name\": \"John\"\n    },\n    \"email\": \"john.doe@example.com\"\n}"
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 400\", function () {",
                            "    pm.response.to.have.status(400);",
                            "});",
                            "",
                            "pm.test(\"Error message is 'Insufficient Data'\", function () {",
                            "    var responseJson = pm.response.json();",
                            "    pm.expect(responseJson).to.have.property('error', 'Insufficient Data');",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Create Learner (Negative Test - Email Exists)",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "url": {
                    "raw": "{{baseUrl}}/learners",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "learners"
                    ]
                },
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"name\": {\n        \"first_name\": \"Jane\",\n        \"last_name\": \"Doe\"\n    },\n    \"email\": \"john.doe@example.com\"\n}"
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 409\", function () {",
                            "    pm.response.to.have.status(409);",
                            "});",
                            "",
                            "pm.test(\"Error message is 'Email Already Registered'\", function () {",
                            "    var responseJson = pm.response.json();",
                            "    pm.expect(responseJson).to.have.property('error', 'Email Already Registered');",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Get Learner by ID",
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "{{baseUrl}}/learners/{{learnerId}}",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "learners",
                        "{{learnerId}}"
                    ]
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 200\", function () {",
                            "    pm.response.to.have.status(200);",
                            "});",
                            "",
                            "pm.test(\"Response contains learner details\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData).to.be.an('object');",
                            "    pm.expect(jsonData).to.have.property('id');",
                            "    pm.expect(jsonData).to.have.property('name').that.is.an('object');",
                            "    pm.expect(jsonData.name).to.have.property('first_name');",
                            "    pm.expect(jsonData.name).to.have.property('last_name');",
                            "    pm.expect(jsonData).to.have.property('email');",
                            "    pm.expect(jsonData.id).to.eql(parseInt(pm.environment.get('learnerId')));",
                            "    pm.expect(jsonData.name.first_name).to.eql(\"John\");",
                            "    pm.expect(jsonData.name.last_name).to.eql(\"Doe\");",
                            "    pm.expect(jsonData.email).to.eql(\"john.doe@example.com\");",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Get Learner by ID (Negative Test - Invalid ID)",
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "{{baseUrl}}/learners/{{invalidLearnerId}}",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "learners",
                        "{{invalidLearnerId}}"
                    ]
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 404\", function () {",
                            "    pm.response.to.have.status(404);",
                            "});",
                            "",
                            "pm.test(\"Error message is 'Resource Not Found'\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData).to.be.an('object');",
                            "    pm.expect(jsonData).to.have.property('error');",
                            "    pm.expect(jsonData.error).to.eql(\"Resource Not Found\");",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Get Submissions",
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "{{baseUrl}}/submissions",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "submissions"
                    ]
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 200\", function () {",
                            "    pm.response.to.have.status(200);",
                            "});",
                            "",
                            "pm.test(\"Response is an array of submissions\", function () {",
                            "    pm.response.to.be.json;",
                            "    pm.response.to.have.jsonBody();",
                            "    pm.expect(pm.response.json()).to.be.an('array');",
                            "    var submissions = pm.response.json();",
                            "    submissions.forEach(submission => {",
                            "        pm.expect(submission).to.have.property('learner_id');",
                            "        pm.expect(submission).to.have.property('assignment_id');",
                            "        pm.expect(submission).to.have.property('submission');",
                            "        pm.expect(submission.submission).to.have.property('submitted_at');",
                            "        pm.expect(submission.submission).to.have.property('score');",
                            "    });",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Create Submission",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "url": {
                    "raw": "{{baseUrl}}/submissions",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "submissions"
                    ]
                },
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"learner_id\": {{learnerId}},\n    \"assignment_id\": {{assignmentId}},\n    \"submission\": {\n        \"submitted_at\": \"2024-02-14\",\n        \"score\": 85\n    }\n}"
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 201\", function () {",
                            "    pm.response.to.have.status(201);",
                            "});",
                            "",
                            "pm.test(\"Response contains new submission\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData).to.be.an('array');",
                            "    pm.expect(jsonData.length).to.be.greaterThan(0);",
                            "    var newSubmission = jsonData.find(s => s.learner_id === pm.environment.get('learnerId') && s.assignment_id === pm.environment.get('assignmentId'));",
                            "    pm.expect(newSubmission).to.not.be.undefined;",
                            "    pm.expect(newSubmission).to.have.property('learner_id', pm.environment.get('learnerId'));",
                            "    pm.expect(newSubmission).to.have.property('assignment_id', pm.environment.get('assignmentId'));",
                            "    pm.expect(newSubmission.submission).to.have.property('submitted_at', '2024-02-14');",
                            "    pm.expect(newSubmission.submission).to.have.property('score', 85);",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Create Submission (Negative Test - Missing Data)",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "url": {
                    "raw": "{{baseUrl}}/submissions",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "submissions"
                    ]
                },
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"learner_id\": {{learnerId}},\n    \"assignment_id\": {{assignmentId}}\n}"
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 400\", function () {",
                            "    pm.response.to.have.status(400);",
                            "});",
                            "",
                            "pm.test(\"Error message is 'Insufficient Data'\", function () {",
                            "    var responseJson = pm.response.json();",
                            "    pm.expect(responseJson).to.have.property('error', 'Insufficient Data');",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Create Submission (Negative Test - Invalid Learner ID)",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "url": {
                    "raw": "{{baseUrl}}/submissions",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "submissions"
                    ]
                },
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"learner_id\": {{invalidLearnerId}},\n    \"assignment_id\": {{assignmentId}},\n    \"submission\": {\n        \"submitted_at\": \"2024-03-01\",\n        \"score\": 80\n    }\n}"
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 400\", function () {",
                            "    pm.response.to.have.status(400);",
                            "});",
                            "",
                            "pm.test(\"Error message is 'Invalid Learner ID'\", function () {",
                            "    var responseJson = pm.response.json();",
                            "    pm.expect(responseJson).to.have.property('error', 'Invalid Learner ID');",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Create Submission (Negative Test - Invalid Assignment ID)",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "url": {
                    "raw": "{{baseUrl}}/submissions",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "submissions"
                    ]
                },
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"learner_id\": {{learnerId}},\n    \"assignment_id\": {{invalidAssignmentId}},\n    \"submission\": {\n        \"submitted_at\": \"2024-03-01\",\n        \"score\": 80\n    }\n}"
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 400\", function () {",
                            "    pm.response.to.have.status(400);",
                            "});",
                            "",
                            "pm.test(\"Error message is 'Invalid Assignment ID'\", function () {",
                            "    var responseJson = pm.response.json();",
                            "    pm.expect(responseJson).to.have.property('error', 'Invalid Assignment ID');",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Create Submission (Negative Test - Invalid Date)",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "url": {
                    "raw": "{{baseUrl}}/submissions",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "submissions"
                    ]
                },
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"learner_id\": {{learnerId}},\n    \"assignment_id\": {{assignmentId}},\n    \"submission\": {\n        \"submitted_at\": \"InvalidDate\",\n        \"score\": 85\n    }\n}"
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 400\", function () {",
                            "    pm.response.to.have.status(400);",
                            "});",
                            "",
                            "pm.test(\"Error message is 'Invalid Submitted Date Format'\", function () {",
                            "    var responseJson = pm.response.json();",
                            "    pm.expect(responseJson).to.have.property('error', 'Invalid Submitted Date Format');",
                            "});"
                        ]
                    }
                }
            ]
        },
        {
            "name": "Create Submission (Negative Test - Invalid Score)",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "url": {
                    "raw": "{{baseUrl}}/submissions",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "submissions"
                    ]
                },
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"learner_id\": {{learnerId}},\n    \"assignment_id\": {{assignmentId}},\n    \"submission\": {\n        \"submitted_at\": \"2024-03-01\",\n        \"score\": \"InvalidScore\"\n    }\n}"
                }
            },
            "response": [],
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "type": "text/javascript",
                        "exec": [
                            "pm.test(\"Status code is 400\", function () {",
                            "    pm.response.to.have.status(400);",
                            "});",
                            "",
                            "pm.test(\"Error message is 'Invalid Submission Score Number'\", function () {",
                            "    var responseJson = pm.response.json();",
                            "    pm.expect(responseJson).to.have.property('error', 'Invalid Submission Score Number');",
                            "});"
                        ]
                    }
                }
            ]
        }
    ],
    "event": [
        {
            "listen": "prerequest",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Pre-request script to calculate invalid IDs",
                    "let currentLearnerId = parseInt(pm.environment.get('learnerId'));",
                    "let currentAssignmentId = parseInt(pm.environment.get('assignmentId'));",
                    "let currentCourseId = parseInt(pm.environment.get('courseId'));",
                    "",
                    "pm.environment.set('invalidLearnerId', (currentLearnerId + 1).toString());",
                    "pm.environment.set('invalidAssignmentId', (currentAssignmentId + 1).toString());",
                    "pm.environment.set('invalidCourseId', (currentCourseId + 1).toString());"
                ]
            }
        }
    ]
}
